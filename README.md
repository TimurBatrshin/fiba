# FIBA 3x3 Application

## Версионирование и релизы

Проект использует семантическое версионирование (SemVer). Для создания новых версий используйте следующие команды:

```bash
# Патч-версия для исправлений ошибок (1.0.0 -> 1.0.1)
npm run release:patch

# Минорная версия для небольших улучшений (1.0.0 -> 1.1.0)
npm run release:minor

# Мажорная версия для значимых изменений (1.0.0 -> 2.0.0)
npm run release:major
```

Эти команды автоматически:
1. Увеличивают номер версии в package.json
2. Создают коммит с обновленной версией
3. Добавляют тег версии (например, "v1.2.3")
4. Отправляют изменения и тег в удаленный репозиторий

## Тестирование и обработка ошибок

### Модульное тестирование

Проект настроен на использование Jest для модульного тестирования. Файлы тестов находятся в директориях `__tests__` или имеют расширение `.test.ts` / `.test.tsx`.

Для запуска модульных тестов используйте:

```bash
# Запуск всех модульных тестов
npm test

# Запуск тестов в режиме наблюдения за изменениями
npm run test:watch

# Запуск тестов с генерацией отчета о покрытии
npm run test:coverage
```

### Интеграционное тестирование

Интеграционные тесты проверяют взаимодействие между различными частями приложения. Они находятся в директории `src/__tests__/integration/`.

```bash
# Запуск интеграционных тестов
npm test -- --testPathPattern=integration
```

### End-to-End тестирование

End-to-End (E2E) тесты используют Cypress для проверки приложения в реальном браузере. Файлы E2E тестов расположены в директории `cypress/e2e/`.

```bash
# Запуск тестов Cypress в терминале
npm run test:e2e

# Запуск тестов Cypress в графическом интерфейсе
npm run cypress:open
```

### Непрерывная интеграция (CI)

Проект настроен для использования GitHub Actions для непрерывной интеграции. Конфигурационный файл находится в `.github/workflows/ci.yml`. CI автоматически запускает:

1. Линтинг
2. Модульные тесты
3. E2E тесты
4. Сборку проекта

CI запускается при каждом push в ветки `main` и `develop`, а также при создании pull request в эти ветки.

### Система обработки ошибок

Проект имеет централизованную систему обработки ошибок, которая включает:

1. **Глобальный обработчик ошибок** (`src/utils/globalErrorHandler.ts`) - перехватывает и обрабатывает ошибки во всем приложении
2. **Error Boundary** (`src/components/ErrorBoundary.tsx`) - React-компонент для перехвата ошибок рендеринга
3. **ErrorToast** (`src/components/ErrorToast.tsx`) - компонент для отображения пользовательских уведомлений об ошибках

#### Типы ошибок

Система обрабатывает следующие типы ошибок:

- **API ошибки** - ошибки при взаимодействии с сервером
- **Ошибки валидации** - ошибки в формах и пользовательском вводе
- **Ошибки авторизации** - проблемы с аутентификацией и авторизацией
- **Сетевые ошибки** - проблемы с сетевым подключением
- **Неизвестные ошибки** - прочие ошибки, не входящие в вышеперечисленные категории

#### Логирование ошибок

Все ошибки автоматически логируются с помощью `src/utils/logger.ts`. В режиме разработки логи выводятся в консоль, а в продакшене могут быть настроены для отправки на сервер.

#### Использование в коде

```tsx
// Пример использования глобального обработчика ошибок
import globalErrorHandler from '../utils/globalErrorHandler';

try {
  // Потенциально опасный код
} catch (error) {
  globalErrorHandler.handleError(error);
}

// Пример использования Error Boundary
import ErrorBoundary from '../components/ErrorBoundary';

function App() {
  return (
    <ErrorBoundary>
      <YourComponent />
    </ErrorBoundary>
  );
}
```

## Разработка и запуск проекта

```bash
# Установка зависимостей
npm install

# Запуск в режиме разработки
npm start

# Сборка для разработки
npm run build

# Сборка для продакшена
npm run build:prod
``` 